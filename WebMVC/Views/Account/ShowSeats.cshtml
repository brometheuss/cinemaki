@using WebMVC.Session;
@using Application.DataTransfer;
@using Microsoft.AspNetCore.Http;
@{
    ViewData["Title"] = "Make your reservation";
    var user = Context.Session.Get<ShowUserDto>("User");
}


    <div class="container">
        <h2>@ViewBag.Projection.HallName </h2>
        <p> Occupancy: @(ViewBag.Projection.HallOccupancy) seats</p>
        <hr />
        @using (Html.BeginForm("MakeReservation", "Account", FormMethod.Post))
        {
            @Html.Hidden("UserId", user.Id)
            <input type="hidden" name="projectionid" value="@ViewBag.Projection.Id" />
            @foreach (var x in ViewBag.Seats)
            {
                @foreach (var t in ViewBag.Taken)
                {
                    if (x.Id == t.Id)
                    {
                        <label class="checkbox-label myPad" for="@x.Id">
                            @(x.Name)@(x.Number)
                            <input type="checkbox" name="ReservationSeats[]" value="@x.Id" id="@x.Id" disabled />
                            <span class="fa fa-check"></span>
                        </label>
                    }
                }
                <label class="checkbox-label myPad" for="@x.Id">
                    @(x.Name)@(x.Number)
                    <input type="checkbox" name="ReservationSeats[]" value="@x.Id" id="@x.Id" />
                    <span class="fa fa-check"></span>
                </label>
            }
            <button type="submit" class="form-control btn btn-lg btn-info">
                Make reservation
            </button>
        }

    </div>
